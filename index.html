<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ticketmaster Boleto Digital</title>
<style>
/* Estilos originales incluidos tal cual */
    body {
        flex-direction: column;
        align-items: center;
        background: #eef2f7;
        font-family: "Inter", sans-serif;
        padding: 30px;
        display: flex;
        justify-content: center;
    }

    .ticket-card {
        width: 300px;
        background: white;
        border-radius: 18px;
        overflow: hidden;
        box-shadow: 0px 8px 28px rgba(0,0,0,0.18);
        text-align: center;
        transition: all 0.25s ease;
    }

    .ticket-card:hover {
        transform: translateY(-3px);
        box-shadow: 0px 14px 34px rgba(0,0,0,0.22);
    }

    .banner { height: 80px;
        width: 100%;
        background-size: cover;
        background-position: center;
    }

    .safetix-label-top {
        font-size: 10px;
        font-weight: 600;
        letter-spacing: 0.5px;
        color: #9ca3af;
        margin-top: 10px;
    }

    .title {
        margin-top: 10px;
        font-size: 15px;
        font-weight: 700;
        color: #111827;
        padding: 0 10px;
    }

    .subtitle {
        font-size: 12px;
        color: #2563eb;
        font-weight: 600;
        margin-top: 6px;
    }

    .event-info {
        font-size: 12px;
        color: #6b7280;
        margin-bottom: 14px;
    }

    .qr-box { position: relative; width: 150px; height: 150px;
        background: white;
        border-radius: 12px;
        border: 1px solid #d1d5db;
        padding: 12px;
        margin: 0 auto 12px;
        overflow: hidden;
        box-shadow: 0px 3px 10px rgba(0,0,0,0.12);
    }

    .qr-box::after {
        content: "";
        position: absolute;
        bottom: 0;
        right: 0;
        width: 55px;
        height: 55px;
        background: linear-gradient(135deg, transparent 50%, #3b82f6 50%);
        border-bottom-right-radius: 12px;
        z-index: 3;
    }

    .scan-bar { position:absolute; top:-40px; left:0; width:100%; height:30px; background:rgba(59,130,246,0.2); box-shadow:0 0 12px rgba(59,130,246,0.4); animation:scan 2s linear infinite; z-index:5; }

    @keyframes scan { 0% { top: -40px; } 100% { top: 170px; } }

    #qr { width: 100%; height: 100%; position: relative; z-index: 1; image-rendering: pixelated; image-rendering: pixelated; image-rendering: pixelated; }

    .safetix-warning {
        font-size: 11px;
        color: #ef4444;
        font-weight: 700;
    }

    .no-screenshot {
        font-size: 11px;
        color: #6b7280;
        margin-bottom: 18px;
    }

    .pulse {
        animation: pulseAnim 0.35s ease;
    }

    @keyframes pulseAnim {
        0% { transform: scale(1); filter: brightness(1); }
        50% { transform: scale(1.05); filter: brightness(1.3); }
        100% { transform: scale(1); filter: brightness(1); }
    }


/* Animación de pulso para el botón */
.glow-btn {
    margin-top:15px;
    padding:8px 14px;
    border:none;
    border-radius:8px;
    background:#2563eb;
    color:white;
    font-size:13px;
    font-weight:600;
    cursor:pointer;
    animation:pulseBtn 1.8s infinite ease-in-out;
}

@keyframes pulseBtn {
    0% { transform:scale(1); box-shadow:0 0 0 0 rgba(37,99,235,0.6); }
    50% { transform:scale(1.06); box-shadow:0 0 14px 6px rgba(37,99,235,0.35); }
    100% { transform:scale(1); box-shadow:0 0 0 0 rgba(37,99,235,0.6); }
}

.glow-btn::after {
    content:"";
    position:absolute;
    top:0;
    left:-100%;
    width:100%;
    height:100%;
    background:linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.55) 50%, transparent 100%);
    animation:shine 4.5s infinite;
}

@keyframes shine {
    0% { left:-100%; }
    60% { left:100%; }
    100% { left:100%; }
}

</style>
    <link rel="icon" type="image/png" href="https://i.imgur.com/Eiwjdsh.png">
</head>
<body>

<div class="ticket-card">
    <div style="width:100%; text-align:left; margin-bottom:0;">
    <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; width:100%; background:rgba(0,86,179,0.85); color:white; font-weight:600; font-size:16px; padding:7px 14px; border-radius:0; text-align:center; text-shadow:0 2px 6px rgba(0,0,0,0.85);">
        <div style="width:100%; text-align:center; font-weight:700; font-size:15px; margin-bottom:8px;">Boleto normal</div>
        <div style="display:flex; width:100%; justify-content:space-between; align-items:center; gap:10px; padding-left:0; justify-content:space-between; margin-top:10px;">
<div style="text-align:center; width:25%; margin-left:0;">
    <div style="font-size:14px; font-weight:500;">SECCION</div>
    <div style="font-size:16px; font-weight:600;">GRAL-B</div>
</div>
<div style="text-align:center; width:20%; margin-left:0;">
    <div style="font-size:14px; font-weight:500;">FILA</div>
    <div style="font-size:16px; font-weight:600;">G8</div>
</div>
<div style="text-align:center; width:30%; margin-right:20px;">
    <div style="font-size:14px; font-weight:500;">ASIENTO</div>
    <div style="font-size:20px; font-weight:600;">-</div>
</div>
</div>
    </div>
</div>
<div class="banner" style="background-image:url('https://i.imgur.com/q60WbDs.jpeg'); position:relative; display:flex; flex-direction:column; align-items:center; justify-content:flex-end; padding:8px 0 8px 0;">
    <div style="color:white; font-weight:700; font-size:15px; text-shadow:0 2px 6px rgba(0,0,0,0.8); text-align:center; margin-bottom:4px;">Bad Bunny — DeBí TiRAR MáS FOToS World Tour 2025</div>
        <div style="color:white; font-weight:500; font-size:13px; text-shadow:0 2px 8px rgba(0,0,0,0.95); text-align:center; ">21 Dic 2025 20:00 | Estadio GNP Seguros · CDMX</div>
    </div>
    <div class="safetix-label-top">BOLETO  DIGITAL</div>


       <div class="qr-box">
        <div class="scan-bar"></div>
        <canvas id="qr"></canvas>
    </div>
    <div class="safetix-warning">SafeTix™</div>
    <div class="no-screenshot">No se permite ingresar con Captura de pantalla</div>

    <div style="font-size:11px; color:#374151; margin-top:15px; text-align:center; line-height:1.4; padding:0 10px;">
        <strong>Este Boleto es tu entrada, guárdalo en tu pantalla de inicio.</strong><br>
        Asegúrate de tener buena conexión a internet.<br>
        Siempre puedes volver a visualizar este boleto escaneando el código QR enviado a tu correo electrónico.
    </div>

    <!-- Botón para añadir a URL -->
    <button id="addButton" class="glow-btn">Añadir a Ticketmaster</button>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
<script>
    const qrCanvas = document.getElementById("qr");
    const qr = new QRious({ element: qrCanvas, size: 150, level: 'H', value: "SAFE-TIX-INIT" });

    async function generateToken() {
        const seed = "TM-" + Date.now() + "-" + Math.random();
        const buffer = await crypto.subtle.digest("SHA-256", new TextEncoder().encode(seed));
        const bytes = Array.from(new Uint8Array(buffer));
        return bytes.map(b => b.toString(16).padStart(2, "0")).join("");
    }

    async function updateQR() {
        const token = await generateToken();
        qr.value = "SAFE-" + token;
        qrCanvas.classList.remove("pulse");
        void qrCanvas.offsetWidth;
        qrCanvas.classList.add("pulse");
    }

    updateQR();
    setInterval(updateQR, 5000);

// Acción del botón Añadir a URL
const addBtn = document.getElementById('addButton');
addBtn.addEventListener('click', () => {
    // Crear modal superpuesto
    const modal = document.createElement('div');
    modal.style.position = 'fixed';
    modal.style.top = '0';
    modal.style.left = '0';
    modal.style.width = '100%';
    modal.style.height = '100%';
    modal.style.background = 'rgba(0,0,0,0.55)';
    modal.style.display = 'flex';
    modal.style.justifyContent = 'center';
    modal.style.alignItems = 'center';
    modal.style.zIndex = '9999';

    modal.innerHTML = `
        <div style="background:white;width:330px;border-radius:12px;padding:25px;text-align:center;font-family:Inter;box-shadow:0 8px 30px rgba(0,0,0,0.25);border-top:4px solid #0072ce;">
            <img src='https://i.imgur.com/1ZppPzU.png' style='width:150px;margin-bottom:20px;opacity:0.9;'>
            <h2 style='font-size:20px;font-weight:700;color:#1a1a1a;'>Error al añadir boleto</h2>
            <p style='font-size:14px;color:#444;margin-top:10px;'>Debido a los recientes acontecimientos derivado de fraudes con la transferencia de Boletos. 
Por seguridad, debes esperar <strong>72 horas</strong> antes de añadir un nuevo boleto aceptado.</p>
            <div style='margin-top:15px;font-size:13px;color:#777;'>Código de error: <strong>TM-403-WAIT72H</strong></div>
            <p style='font-size:12px;color:#666;margin-top:20px;'>Serás redirigido automáticamente...</p>
        </div>
    `;

    document.body.appendChild(modal);

    // Redirigir automáticamente después de 7 segundos
    setTimeout(() => {
        window.location.href = 'https://www.ticketmaster.com.mx/bad-bunny-boletos/artist/2317395';
    }, 10000);
});
</script>
</body>
</html>
